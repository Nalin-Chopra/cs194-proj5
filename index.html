<p><br></p>
<title>
CS194 Project 5 - Nalin Chopra
</title>
<head>
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato" />
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- common.css -->
<style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
<!-- ace-static.css -->
<style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
<style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
<!-- export.css -->
<style>
    body{margin:0 auto;max-width:1200px;line-height:1.4;font-family:'Lato', sans-serif}
    #nav{margin:5px 0 10px;font-size:15px;font-family:'Lato', sans-serif}
    #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;font-family:'Lato', sans-serif}
    #contentarea{font-size:15px;margin:16px 0;font-family:'Lato', sans-serif}
    .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;;font-family:'Lato', sans-serif}
    .code-cell{font-family:'Lato', Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
    .latex-cell{white-space:pre-wrap;;font-family:'Lato', sans-serif}
  </style>
<!-- User CSS -->
<style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
<script type='text/x-mathjax-config'>MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script type='text/javascript' src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato" />
</head>
<h1 style="text-align: center;"id="Project Title">CS194 - Computer Vision and Computational Photography</h1>
<h1 style="text-align: center;">Project 5 - Auto-Stitching Photo Mosaics</h1>
<h4 style="text-align: center;"> By Nalin Chopra</h4>


</br>
<h2 id="overview" style="padding-top: 0.5em; padding-bottom: .5em;">Part 1: Image Warping & Mosaics</h2>
<div style="padding-bottom: 0.75em; padding-top: 0em;">

    <h3>Panoramas & Motivation</h3>

    <p> A panorama is a wide view photo, normally created by stitching smaller images together. There are several 
        different types of panoramas that can be created depending on what type of surface the stitched images are 
        projected onto, perspective, cylindrical or spherical. Here I'll be showing results with perspective, or flat-plane projection panoramas.

    </p>

    <p>We'll soon see how we can use homographies, a relationship between images in the same plane, to achieve our goals in creating panoramas.</p>


    <h3 style="padding-top: 0.5em;">Homographies</h3>

    <p>
        Any two images in the same planar space are related by a homography. For our case, we can represent one as a 3x3 matrix
        using a homogenous coordinate system.
    </p>

    <div style="text-align: center;">
        <img src="pt1_images/homography.jpg">
    </div>

    <p>By choosing corresponding points between our two images that are taken at different angles, we can 
        find the homography that relates them. Then we can apply the homography as a matrix operation on 
        one of the original images to project it onto the same surface or plane as our other image! </p>

    <p> Since our homography matrix has 8 degrees of freedom, we need 8 equations to solve for it, which requires 4 coordinate pairs (x, y). However, 
        in reality often there is error in noise and we can instead define many correspondences and find the best homography matrix that minimizes the error 
        between all the points, using a least-squares approach.
    </p>

    <p> The least squares equation form for solving for each of the 8 variables of our homography matrix is as follows:</p>

    <div style="text-align: center;">
        <img src="pt1_images/homography_ls.jpg">
    </div>

    <p>For my images, I used around 15 points of correspondence. It's important to also note that least-squares 
        is not very robust when it comes to dealing with outliers, so choosing many correspondence points will not only provide diminishing returns, 
        but could also hurt results. Although at first we will choose these points manually, we'll soon see how we can automatically 
        find correspondences.
    </p>

    <h3 style="padding-top: 0.5em;">Image Rectification Using Homographies</h3>

    <p>We can first demonstrate one of the applications of homographies with image rectification. Given an image that is non-frontal planar, we can make it frontal 
        planar by choosing correspondence points between corners of the image and a standard, frontal-planar rectangular set of coordinates (4 corners of a target image). The results are depicted here:

    </p>


    <h3 style="padding-top: 0.5em;">Putting it Together with Panoramas</h3>

    <p>We can now use what we've learned to take three images from a scene and stitch them together into a panorama. We take the "center" image of the scene 
        and choose it to be our anchor. We then define correspondences between the left and right image and the center image, and compute homographies for both
        relationships. We can then use inverse warping to apply the homographies to a blank canvas along with the original image, and being careful to define a wide enough
        canvas to encompass the entire net image, we can stitch all of our morphed images together into a given plane. Here are some results below:
    </p>


    <div style="text-align: center; padding-bottom: 1em; padding-top: 1em;">

        <div style="display: flex; flex-direction: row; justify-content: center">
            <div style="flex: 1; justify-content: center; vertical-align: center;">
                <h3>Left</h3>
            </div>
            <div style="flex: 1; justify-content: center; vertical-align: center;">
                <h3>Original Image</h3>
            </div>
            <div style="flex: 1; justify-content: center;">
                <h3>Output Image </h3>
            </div>
            <div style="flex: 1; justify-content: center;">
                <h3>Target Image Correspondence </h3>
            </div>
            
        </div>

        <div style="display: flex; flex-direction: row; justify-content: center">
            <div style="flex: 1; justify-content: center; vertical-align: center;">
                <p>Novel</p>
            </div>
            <div style="flex: 1; justify-content: center;">
                <img src="pt1_images/angled_book2.jpeg">
            </div>
            <div style="flex: 1; justify-content: center;">
                <img src="pt1_images/book_final.jpg">
            </div>
            <div style="flex: 1; justify-content: center;">
                <img src="pt1_images/flat_book2.jpeg">
            </div>
        </div>
        <div style="display: flex; flex-direction: row; justify-content: center">
            <div style="flex: 1; justify-content: center; vertical-align: center;">
                <p>Physics Textbook</p>
            </div>
            <div style="flex: 1; justify-content: center;">
                <img src="pt1_images/angled_physics.jpeg">
            </div>
            <div style="flex: 1; justify-content: center;">
                <img src="pt1_images/final_physics2.jpg">
            </div>
            <div style="flex: 1; justify-content: center;">
                <img src="pt1_images/flat_physics.jpeg">
            </div>
        </div>
   
    </div>





    <h3 style="padding-top: 0.5em;">Sample Images</h3>
    <p>I took two images in my house of books at different angles to demonstrate an application of transformation images with homographies.</p>
        
    <div style="text-align: center; padding-bottom: 1em; padding-top: 1em;">

        <div style="display: flex; flex-direction: row; justify-content: center">
            <div style="flex: 1; justify-content: center; vertical-align: center;">
                <h3>Image Description</h3>
            </div>
            <div style="flex: 1; justify-content: center; vertical-align: center;">
                <h3>Original Image</h3>
            </div>
            <div style="flex: 1; justify-content: center;">
                <h3>Output Image </h3>
            </div>
            <div style="flex: 1; justify-content: center;">
                <h3>Target Image Correspondence </h3>
            </div>
            
        </div>

        <div style="display: flex; flex-direction: row; justify-content: center">
            <div style="flex: 1; justify-content: center; vertical-align: center;">
                <p>Novel</p>
            </div>
            <div style="flex: 1; justify-content: center;">
                <img src="pt1_images/angled_book2.jpeg">
            </div>
            <div style="flex: 1; justify-content: center;">
                <img src="pt1_images/book_final.jpg">
            </div>
            <div style="flex: 1; justify-content: center;">
                <img src="pt1_images/flat_book2.jpeg">
            </div>
        </div>
        <div style="display: flex; flex-direction: row; justify-content: center">
            <div style="flex: 1; justify-content: center; vertical-align: center;">
                <p>Physics Textbook</p>
            </div>
            <div style="flex: 1; justify-content: center;">
                <img src="pt1_images/angled_physics.jpeg">
            </div>
            <div style="flex: 1; justify-content: center;">
                <img src="pt1_images/final_physics2.jpg">
            </div>
            <div style="flex: 1; justify-content: center;">
                <img src="pt1_images/flat_physics.jpeg">
            </div>
        </div>
   
    </div>